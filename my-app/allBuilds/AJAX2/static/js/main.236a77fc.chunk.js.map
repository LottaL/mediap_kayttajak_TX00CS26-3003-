{"version":3,"sources":["components/Nav.js","utils/MediaAPI.js","components/IMG.js","components/TR.js","components/Tbody.js","components/Table.js","views/Home.js","views/Profile.js","views/Single.js","App.js","index.js"],"names":["Nav","react_default","a","createElement","react_router_dom","to","IMG","_Component","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","src","props","card","thumbnails","w160","Component","TR","components_IMG","file_id","title","description","pathname","state","file","Tbody","media","map","components_TR","data","Table","components_Tbody","Home","Fragment","components_Table","Profile","Single","mediaUrl","filename","id","_this2","location","axios","get","concat","then","res","setState","alt","App","picArray","array","console","log","Promise","all","imgID","res2","push","catch","err2","err","getAllMedia","_this3","basename","components_Nav","react_router","exact","path","render","views_Home","component","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.236a77fc.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Nav = () => {\r\n  return (\r\n      <nav>\r\n        <ul>\r\n          <li>\r\n            <Link to=\"/\">Home</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/profile\">Profile</Link>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;","\"use strict\";\r\nimport axios from 'axios';\r\n\r\nfunction getAllMedia() {\r\n  let array = [];\r\n  return axios.get('http://media.mw.metropolia.fi/wbma/media')\r\n  .then(res => //this.setState({ picArray: res.data }))\r\n      {\r\n        //console.log(res.data);\r\n        //console.log(res.data[0].file_id);\r\n        console.log(res);\r\n        return Promise.all(res.data.map(a =>\r\n            {\r\n              let imgID = a.file_id;\r\n              //console.log(`http://media.mw.metropolia.fi/wbma/media/${imgID}`);\r\n              return axios.get(`http://media.mw.metropolia.fi/wbma/media/${imgID}`)\r\n                  .then(res2 => {array.push(res2)})\r\n                  .catch(err2 => console.log(err2))\r\n            })\r\n        ).then(res => {return res.data = array});\r\n      }\r\n  )\r\n  .catch(err => console.log(err))\r\n}\r\n\r\nconst getSingleMedia = (id) => {\r\n  return axios.get(`http://media.mw.metropolia.fi/wbma/media/${id}`)\r\n      //.then(res => console.log(res))\r\n};\r\n\r\nexport {getSingleMedia}\r\nexport {getAllMedia}","import React, {Component} from 'react'\r\nimport PropTypes from 'prop-types';\r\n\r\nexport class IMG extends Component {\r\n\r\n\r\n  render() {\r\n    //console.log(`http://media.mw.metropolia.fi/wbma/uploads/${this.state.thumbnails.w160}`);\r\n    return (\r\n        <img src={\"http://media.mw.metropolia.fi/wbma/uploads/\" + this.props.card.thumbnails.w160}/>\r\n    )\r\n  }\r\n}\r\n\r\nIMG.propTypes = {\r\n  card: PropTypes.object\r\n};\r\n\r\nexport default IMG","import React, {Component} from 'react'\r\nimport '../App.css';\r\nimport IMG from './IMG.js';\r\nimport PropTypes from 'prop-types';\r\n//import Modal2 from './Modal2';\r\n//<Modal2 key={this.props.card.file_id} card={this.props.card}/>\r\nimport { Link} from 'react-router-dom';\r\n\r\n\r\nexport class TR extends Component {\r\n  render() {\r\n    //console.log(this.props.card);\r\n    return (\r\n        <tr>\r\n          <td>\r\n            <IMG key={this.props.card.file_id} card={this.props.card}/>\r\n          </td>\r\n          <td>\r\n            <h3>{this.props.card.title}</h3>\r\n            <p>{this.props.card.description}</p>\r\n          </td>\r\n          <td>\r\n            <Link to={{\r\n              pathname: \"/single\",\r\n              state: {\r\n                file: this.props.card.file_id\r\n              }\r\n            }}>View</Link>\r\n          </td>\r\n        </tr>\r\n    )\r\n  }\r\n}\r\n\r\nTR.propTypes = {\r\n  card: PropTypes.object\r\n};\r\n\r\nexport default TR","import React, { Component } from 'react';\r\nimport '../App.css';\r\nimport TR from './TR.js';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Tbody extends Component {\r\n  render() {\r\n    //console.log(this.props.media);\r\n    return (<tbody>{this.props.media.map((card) => (\r\n        <TR key={card.data.file_id} card={card.data}/>\r\n    ))}</tbody>);\r\n  }\r\n}\r\n\r\nTbody.propTypes = {\r\n  media: PropTypes.array\r\n};\r\n\r\nexport default Tbody;\r\n","import React, { Component } from 'react';\r\nimport '../App.css';\r\nimport Tbody from './Tbody.js';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nclass Table extends Component {\r\n\r\n  render() {\r\n    //console.log(this.props.media);\r\n    return (\r\n        <table>\r\n        <Tbody media={this.props.media}/>\r\n        </table>\r\n    )\r\n  }\r\n}\r\n\r\nTable.propTypes = {\r\n  media: PropTypes.array\r\n};\r\n\r\nexport default Table;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Table from '../components/Table.js';\r\n\r\nconst Home = (props) => {\r\n  return (\r\n      <React.Fragment>\r\n        <h1>Home</h1>\r\n        <Table media={props.media}/>\r\n      </React.Fragment>\r\n  );\r\n};\r\n\r\nHome.propTypes = {\r\n  picArray: PropTypes.array,\r\n};\r\n\r\nexport default Home;","import React from 'react';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n      <React.Fragment>\r\n        <h1>Profile</h1>\r\n      </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Profile;","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {getSingleMedia} from '../utils/MediaAPI.js';\r\n\r\nclass Single extends Component {\r\n  mediaUrl = 'http://media.mw.metropolia.fi/wbma/uploads/';\r\n  state = {\r\n    file: {\r\n      filename: '',\r\n      title: 'testi',\r\n    },\r\n  };\r\n\r\n  componentDidMount() {\r\n    getSingleMedia(this.props.location.state.file).then(res => {\r\n      //console.log(res);\r\n      this.setState({file:{ filename: res.data.filename, title: res.data.title}});\r\n    });\r\n  }\r\n\r\n  render() {\r\n    //console.log(this.props.location.state.file);\r\n    return (\r\n        <React.Fragment>\r\n          <h1>{this.state.file.title}</h1>\r\n          <img src={this.mediaUrl + this.state.file.filename}\r\n               alt={this.state.file.title}/>\r\n        </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nSingle.propTypes = {\r\n  match: PropTypes.object,\r\n  location: PropTypes.string,\r\n};\r\n\r\nexport default Single;","import React, { Component } from 'react';\nimport './App.css';\nimport Nav from './components/Nav.js'\nimport {getAllMedia} from './utils/MediaAPI.js';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport Home from './views/Home.js';\nimport Profile from './views/Profile.js'\nimport Single from './views/Single.js';\n\n\n\n//getAllMedia().then(res => console.log(res));\n\nclass App extends Component {\n  state = {\n    picArray: [],\n  };\n\n  componentDidMount() {\n    getAllMedia().then(res => {this.setState({ picArray: res });\n     // console.log(this.state.picArray);\n    });\n  }\n\n  render() {\n    //console.log(this.state.picArray);\n    //router basename=\"/~lottalau/FOLDERNAME\"\n    return (\n        <Router basename=\"/~lottalau/AJAX2\">\n          <div id=\"container\">\n            <Nav/>\n            <Route exact path=\"/\" render={props => (\n                <React.Fragment>\n                  <Home media={this.state.picArray}/>\n                </React.Fragment>\n            )}/>\n            <Route path=\"/profile\" component={Profile}/>\n            <Route path=\"/single\" component={Single}/>\n          </div>\n        </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}